
@app.route('/api/v1/gateway/name/getdevicedetails/all')
@cross_origin()
def getdevicedataall():
    unique_device_names = set()
    try:
        deviceslist = response.json()['devices']
        

        for device in deviceslist:
            device_name = device['name']
            if device_name not in unique_device_names:
                unique_device_names.add(device_name)

                device_info = {
                    'id': device['id'],
                    'serviceName': device['serviceName'],
                    'profileName': device['profileName'],
                    'address': device['protocols']['modbus-tcp']['Address'],
                    'port': device['protocols']['modbus-tcp']['Port']
                }
                devices_info.append(device_info)
	return str(unique_device_names)
    except Exception as e:
        return e
